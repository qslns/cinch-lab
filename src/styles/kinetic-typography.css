/* ==========================================================================
   CINCH LAB - Kinetic Typography System
   Phase 1.3: Variable Fonts, Deconstructed Type, Dynamic Weights
   ========================================================================== */

/* ------------------------------------------------------------------
   BASE TYPOGRAPHY RESET & FOUNDATION
   ------------------------------------------------------------------ */

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  font-family: var(--font-inter), 'Helvetica Neue', -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: var(--type-base);
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-tight);
  font-weight: var(--font-weight-regular);
  color: var(--margiela-graphite);
  font-variation-settings: 'wght' 400;
}

/* ------------------------------------------------------------------
   HEADING SYSTEM - DECONSTRUCTED HIERARCHY
   ------------------------------------------------------------------ */

h1, h2, h3, h4, h5, h6 {
  margin: 0;
  font-weight: var(--font-weight-light);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tighter);
  font-variation-settings: 'wght' 300;
}

/* Display 1 - Hero Statement */
h1,
.text-display-1 {
  font-size: clamp(var(--type-5xl), 10vw, var(--type-9xl));
  line-height: var(--leading-none);
  letter-spacing: -0.045em;
  font-variation-settings: 'wght' 200;
  font-weight: var(--font-weight-extralight);
}

/* Display 2 - Section Headers */
h2,
.text-display-2 {
  font-size: clamp(var(--type-4xl), 7vw, var(--type-7xl));
  line-height: var(--leading-tight);
  letter-spacing: -0.035em;
  font-variation-settings: 'wght' 250;
  font-weight: var(--font-weight-light);
}

/* Display 3 - Sub-sections */
h3,
.text-display-3 {
  font-size: clamp(var(--type-3xl), 5vw, var(--type-5xl));
  line-height: var(--leading-snug);
  letter-spacing: -0.025em;
  font-variation-settings: 'wght' 300;
}

/* Heading 4 - Content Blocks */
h4,
.text-heading-4 {
  font-size: clamp(var(--type-2xl), 3.5vw, var(--type-4xl));
  line-height: var(--leading-snug);
  letter-spacing: -0.02em;
  font-variation-settings: 'wght' 400;
  font-weight: var(--font-weight-regular);
}

/* Heading 5 - Subsections */
h5,
.text-heading-5 {
  font-size: clamp(var(--type-xl), 2.5vw, var(--type-3xl));
  line-height: var(--leading-normal);
  letter-spacing: -0.015em;
  font-variation-settings: 'wght' 450;
  font-weight: var(--font-weight-medium);
}

/* Heading 6 - Small Headers */
h6,
.text-heading-6 {
  font-size: clamp(var(--type-lg), 2vw, var(--type-2xl));
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  font-variation-settings: 'wght' 500;
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
}

/* ------------------------------------------------------------------
   BODY TEXT VARIANTS
   ------------------------------------------------------------------ */

/* Lead Paragraph */
.text-lead {
  font-size: clamp(var(--type-lg), 2vw, var(--type-xl));
  line-height: var(--leading-relaxed);
  letter-spacing: var(--tracking-normal);
  font-variation-settings: 'wght' 350;
}

/* Standard Body */
p,
.text-body {
  font-size: var(--type-base);
  line-height: var(--leading-relaxed);
  letter-spacing: var(--tracking-normal);
  font-variation-settings: 'wght' 400;
  margin: 0 0 var(--space-8) 0;
}

.text-body-large {
  font-size: var(--type-lg);
  line-height: var(--leading-relaxed);
}

.text-body-small {
  font-size: var(--type-sm);
  line-height: var(--leading-normal);
}

/* ------------------------------------------------------------------
   UTILITY TEXT CLASSES
   ------------------------------------------------------------------ */

/* Laboratory Labels */
.text-label {
  font-size: var(--type-xs);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-wider);
  text-transform: uppercase;
  font-variation-settings: 'wght' 600;
  font-weight: var(--font-weight-semibold);
}

.text-label-large {
  font-size: var(--type-sm);
  letter-spacing: var(--tracking-wide);
}

/* Caption Text */
.text-caption {
  font-size: var(--type-xs);
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  font-variation-settings: 'wght' 400;
  color: var(--margiela-aluminum);
}

/* Overline Text */
.text-overline {
  font-size: var(--type-2xs);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  font-variation-settings: 'wght' 700;
  font-weight: var(--font-weight-bold);
}

/* Monospace Code */
.text-mono {
  font-family: var(--font-mono), 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.9em;
  letter-spacing: var(--tracking-normal);
}

/* ------------------------------------------------------------------
   KINETIC TYPE - VARIABLE FONT ANIMATIONS
   ------------------------------------------------------------------ */

/* Hover weight change */
.kinetic-text {
  font-variation-settings: 'wght' var(--text-weight, 400);
  transition: font-variation-settings var(--duration-fast) var(--ease-smooth);
  cursor: pointer;
}

.kinetic-text:hover {
  --text-weight: 700;
}

/* Continuous weight oscillation */
@keyframes weight-pulse {
  0%, 100% {
    font-variation-settings: 'wght' 300;
  }
  50% {
    font-variation-settings: 'wght' 700;
  }
}

.text-pulse-weight {
  animation: weight-pulse 3s ease-in-out infinite;
}

/* Glitch effect with font weight */
@keyframes text-glitch {
  0%, 90%, 100% {
    font-variation-settings: 'wght' 400;
    transform: translate(0);
  }
  20% {
    font-variation-settings: 'wght' 700;
    transform: translate(-2px, 1px);
  }
  40% {
    font-variation-settings: 'wght' 200;
    transform: translate(2px, -1px);
  }
  60% {
    font-variation-settings: 'wght' 800;
    transform: translate(-1px, 2px);
  }
}

.text-glitch {
  animation: text-glitch 4s infinite;
}

/* ------------------------------------------------------------------
   DECONSTRUCTED TYPE EFFECTS
   ------------------------------------------------------------------ */

/* Split text with offset */
.text-split {
  display: inline-block;
  position: relative;
}

.text-split::before {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 2px;
  color: var(--sacai-burnt-orange);
  opacity: 0.5;
  z-index: -1;
}

.text-split::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: -2px;
  color: var(--lab-chemical-blue);
  opacity: 0.5;
  z-index: -1;
}

/* Exposed baseline grid */
.text-exposed-grid {
  background-image: repeating-linear-gradient(
    180deg,
    transparent,
    transparent calc(1em * var(--leading-normal) - 1px),
    var(--margiela-exposed-seam) calc(1em * var(--leading-normal) - 1px),
    var(--margiela-exposed-seam) calc(1em * var(--leading-normal))
  );
  background-size: 100% calc(1em * var(--leading-normal));
  background-position: 0 0.2em;
}

/* Rotated individual characters */
.text-rotated-chars span {
  display: inline-block;
  transform: rotate(calc(var(--char-index, 0) * 2deg - 5deg));
  transition: transform var(--duration-fast) var(--ease-elastic);
}

.text-rotated-chars:hover span {
  transform: rotate(0deg);
}

/* ------------------------------------------------------------------
   MARGIELA WHITE LABEL STYLE
   ------------------------------------------------------------------ */

.text-white-label {
  font-family: 'Courier New', monospace;
  font-size: var(--type-xs);
  letter-spacing: var(--tracking-normal);
  background: var(--margiela-white-label);
  color: var(--margiela-void);
  padding: var(--space-1) var(--space-3);
  border: 1px solid var(--margiela-exposed-seam);
  display: inline-block;
  text-transform: uppercase;
}

.text-number-tag {
  font-family: 'Courier New', monospace;
  font-size: var(--type-2xs);
  letter-spacing: var(--tracking-wide);
  color: var(--margiela-aluminum);
  font-weight: var(--font-weight-regular);
}

/* ------------------------------------------------------------------
   SACAI SPLICE TYPOGRAPHY
   ------------------------------------------------------------------ */

/* Half one color, half another */
.text-splice {
  background: linear-gradient(
    90deg,
    var(--sacai-burnt-orange) 0%,
    var(--sacai-burnt-orange) 50%,
    var(--sacai-deep-navy) 50%,
    var(--sacai-deep-navy) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-splice-vertical {
  background: linear-gradient(
    180deg,
    var(--sacai-olive) 0%,
    var(--sacai-olive) 50%,
    var(--cdg-blood-red) 50%,
    var(--cdg-blood-red) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Layered text effect */
.text-layered {
  position: relative;
  color: var(--margiela-carbon);
}

.text-layered::before {
  content: attr(data-text);
  position: absolute;
  top: -2px;
  left: -2px;
  color: var(--sacai-splice-orange);
  opacity: 0.7;
  z-index: -1;
}

.text-layered::after {
  content: attr(data-text);
  position: absolute;
  top: 2px;
  left: 2px;
  color: var(--sacai-layer-navy);
  opacity: 0.7;
  z-index: -2;
}

/* ------------------------------------------------------------------
   CDG RADICAL MINIMALISM
   ------------------------------------------------------------------ */

.text-cdg-black {
  font-size: clamp(var(--type-6xl), 15vw, var(--type-9xl));
  font-weight: var(--font-weight-black);
  color: var(--cdg-absolute-black);
  line-height: var(--leading-none);
  letter-spacing: -0.05em;
}

.text-cdg-statement {
  font-size: var(--type-base);
  font-weight: var(--font-weight-regular);
  color: var(--cdg-blood-red);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
}

/* ------------------------------------------------------------------
   RESPONSIVE TYPOGRAPHY
   ------------------------------------------------------------------ */

@media (max-width: 640px) {
  html {
    font-size: 14px;
  }

  h1, .text-display-1 {
    letter-spacing: -0.03em;
  }

  .text-split::before,
  .text-split::after {
    display: none;
  }

  .text-layered::before,
  .text-layered::after {
    display: none;
  }
}

@media (min-width: 1920px) {
  html {
    font-size: 18px;
  }

  .text-lead {
    font-size: var(--type-2xl);
  }
}

/* ------------------------------------------------------------------
   PRINT TYPOGRAPHY
   ------------------------------------------------------------------ */

@media print {
  body {
    font-size: 12pt;
    line-height: 1.5;
  }

  h1 { font-size: 24pt; }
  h2 { font-size: 20pt; }
  h3 { font-size: 18pt; }
  h4 { font-size: 16pt; }
  h5 { font-size: 14pt; }
  h6 { font-size: 12pt; }

  .text-split::before,
  .text-split::after,
  .text-layered::before,
  .text-layered::after {
    display: none;
  }
}

/* ------------------------------------------------------------------
   ACCESSIBILITY
   ------------------------------------------------------------------ */

/* High contrast mode */
@media (prefers-contrast: high) {
  body {
    font-weight: var(--font-weight-medium);
  }

  .text-caption {
    color: var(--margiela-steel);
  }

  .text-split::before,
  .text-split::after {
    opacity: 0;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .kinetic-text,
  .text-pulse-weight,
  .text-glitch,
  .text-rotated-chars span {
    animation: none !important;
    transition: none !important;
  }
}

/* ------------------------------------------------------------------
   SELECTION STYLING
   ------------------------------------------------------------------ */

::selection {
  background: var(--margiela-carbon);
  color: var(--margiela-raw-canvas);
  text-shadow: none;
}

::-moz-selection {
  background: var(--margiela-carbon);
  color: var(--margiela-raw-canvas);
  text-shadow: none;
}